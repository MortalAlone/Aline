var origami = {};

// Markdown 瞄点定位
origami.initTocbot=function(){let tocLevel="h1, h2, h3";let content=document.querySelector(".post-content");let i=0;if(!content||!content.querySelectorAll(tocLevel))return;content.querySelectorAll(tocLevel).forEach(function(item){item.id="title-"+i;i++});let offset=document.querySelector(".app-header").clientHeight;let selector=document.querySelector("#toc-btn").clientHeight===0?".widget_tocbot .toc":"#toc-btn .toc";tocbot.init({tocSelector:selector,contentSelector:".post-content",headingSelector:tocLevel,headingsOffset:offset+21,onClick:function(e){window.scrollTo({top:document.querySelector(e.target.hash).offsetTop-offset+60,behavior:"smooth"});e.stopPropagation();return false}})};
origami.tocToggle=function(){let select=true;if(window.innerWidth>991){let toc=document.getElementsByClassName("toc")[0];document.getElementById("toc-btn").addEventListener("click",function(e){if(e.target.className=="fa fa-indent fa-2x"){if(select){toc.classList.add("toc-show");toc.style.boxShadow="none";select=false}else{toc.classList.remove("toc-show");toc.style.boxShadow="0 0 20px #B6DFE9";select=true}}})}};


origami.menu_submenus_hover=function(){
  $('.app-header .menu-list').children('.menu-item').hover(
    function(e){
    if (e.target.nextElementSibling) {
      $(this).addClass('active')
    }},
    function(e){
      $(this).removeClass('active')
    }
  )
}




// Run
var isPost = document.getElementsByTagName("main")[0].classList.contains("post")
if (isPost) {
    origami.initTocbot();
    origami.tocToggle();
  }
origami.menu_submenus_hover();
